const helpers = require("./helpers");


/**
 * A HybridClock is the super class for clock algorithms that can only be used as either the first or subsequent
 * algorithms in a chain.
 */
class HybridClock {

    static HYBRID_CLOCK_CNSTR_ERR_MSG = "The second arg to a HybridClock constructor must be an integer or a clock";


    constructor(stepsOrClock) {

        if (stepsOrClock !== undefined) {
            if (helpers.isInteger(stepsOrClock)) {
                this.steps = stepsOrClock;
            } else if (helpers.isClock(stepsOrClock)) {
                this.steps = stepsOrClock.steps;
            } else {
                throw new Error(HybridClock.HYBRID_CLOCK_CNSTR_ERR_MSG);
            }
        }
    }


    apply(modifier) {
        modifier.applyTo(this);
    }
}


module.exports = HybridClock;
