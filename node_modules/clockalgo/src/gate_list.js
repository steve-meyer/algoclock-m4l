const SourceClock = require("./source_clock");


/**
 * A GateList is a source clock where the initial set of steps is supplied as an Array of 1/on
 * 0/off gates.
 */
class GateList extends SourceClock {

    /**
     * Create a new GateList with a step count.
     *
     * @param {integer} gates an Array of 1's and 0's representing on/off steps respectively.
     */
    constructor(gates) {
        super(gates);
        this.divisions = gates.reduce((divisions, step, i, arr) => {
            if (step == 1) divisions.push(i * (1.0 / arr.length));
            return divisions;
        }, new Array());
    }
}


module.exports = GateList;
